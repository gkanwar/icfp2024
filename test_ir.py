from ir import *

def test_str():
    message = Str.dec('SB%,,/}Q/2,$_')
    assert message.s == 'Hello World!'
    resp = (
        '''SB%,,/}!.$}7%,#/-%}4/}4(%}M#(//,}/&}4(%}</5.$}P!2)!",%_~~<%'''
        '''&/2%}4!+).'}!}#/523%j}7%}35''%34}4(!4}9/5}(!6%}!},//+}!2/5.'''
        '''$l}S/5e2%}./7},//+).'}!4}4(%}u).$%8wl}N/}02!#4)#%}9/52}#/--'''
        '''5.)#!4)/.}3+),,3j}9/5}#!.}53%}/52}u%#(/w}3%26)#%l}@524(%2-/'''
        '''2%j}4/}+./7}(/7}9/5}!.$}/4(%2}345$%.43}!2%}$/).'j}9/5}#!.},'''
        '''//+}!4}4(%}u3#/2%"/!2$wl~~;&4%2},//+).'}!2/5.$j}9/5}-!9}"%}'''
        '''!$-)44%$}4/}9/52}&)234}#/523%3j}3/}-!+%}352%}4/}#(%#+}4()3}'''
        '''0!'%}&2/-}4)-%}4/}4)-%l}C.}4(%}-%!.4)-%j})&}9/5}7!.4}4/}02!'''
        '''#4)#%}-/2%}!$6!.#%$}#/--5.)#!4)/.}3+),,3j}9/5}-!9}!,3/}4!+%'''
        '''}/52}u,!.'5!'%y4%34wl~'''
    )
    assert Str.dec(resp).enc() ==  resp

def test_enc_dec():
    prog = '''B$ B$ L# L$ v# B. SB%,,/ S}Q/2,$_ IK'''
    assert enc(dec(prog)) == prog
    prog = (
        '''B$ B$ L" B$ L# B$ v" B$ v# v# L# B$ v" B$ v# v# L" L# ? '''
        '''B= v# I! I" B$ L$ B+ B$ v" v$ B$ v" v$ B- v# I" I%'''
    )
    assert enc(dec(prog)) == prog
